<div class="max-w-2xl mx-auto mt-10 p-5 bg-white shadow-md rounded-lg">
    <h2 class="text-2xl font-bold mb-4">Employees List</h2>

    <button
        class="mb-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
        (click)="toggleAddEmployee()">
        {{ isAddingEmployee ? 'View List' : 'Add New Employee' }}
    </button>

    <div *ngIf="isAddingEmployee" class="mb-4 p-4 border border-gray-300 rounded bg-gray-50">
        <h3 class="text-xl font-semibold mb-2">Add Employee</h3>
        <form (ngSubmit)="submitEmployee()" #employeeForm="ngForm">
            <div class="mb-4">
                <label class="block text-gray-700 mb-1" for="name">Name</label>
                <input type="text" id="name" [(ngModel)]="newEmployee.name" name="name"
                    class="w-full border border-gray-300 rounded p-2" required />
                <div *ngIf="!newEmployee.name && errorMessage" class="text-red-600">
                    Name is required.
                </div>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 mb-1" for="role">Role</label>
                <select id="role" [(ngModel)]="newEmployee.role" name="role"
                    class="w-full border border-gray-300 rounded p-2" required>
                    <option value="" disabled selected>Select a role</option>
                    <option value="Software Engineer">Software Engineer</option>
                    <option value="Project Manager">Project Manager</option>
                    <option value="Designer">Designer</option>
                    <option value="Tester">Tester</option>
                </select>
                <div *ngIf="!newEmployee.role && errorMessage" class="text-red-600">
                    Role is required.
                </div>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 mb-1" for="joiningDate">Joining Date</label>
                <input type="date" id="joiningDate" [(ngModel)]="newEmployee.joiningDate" name="joiningDate"
                    class="w-full border border-gray-300 rounded p-2" required />
                <div *ngIf="!newEmployee.joiningDate && errorMessage" class="text-red-600">
                    Joining Date is required.
                </div>
            </div>

            <button type="submit"
                class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"
                [disabled]="employeeForm.invalid">
                Submit
            </button>

            <p *ngIf="errorMessage" class="mt-4 text-red-600">{{ errorMessage }}</p>
        </form>
    </div>

    <table *ngIf="!isAddingEmployee" class="min-w-full bg-gray-100 border border-gray-300">
        <thead>
            <tr class="bg-gray-200">
                <th class="py-2 px-4 border-b border-gray-300 text-left">Name</th>
                <th class="py-2 px-4 border-b border-gray-300 text-left">Role</th>
                <th class="py-2 px-4 border-b border-gray-300 text-left">Joining Date</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let employee of employees" class="hover:bg-gray-50">
                <td class="py-2 px-4 border-b border-gray-300">{{ employee.name }}</td>
                <td class="py-2 px-4 border-b border-gray-300">{{ employee.role }}</td>
                <td class="py-2 px-4 border-b border-gray-300">{{ employee.joiningDate | date:'mediumDate' }}</td>
            </tr>
        </tbody>
    </table>
</div>
